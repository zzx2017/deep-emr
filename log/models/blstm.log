MODEL

nb_words = 36664
max_length = 3390
embedding_dim = 20

model = Sequential()
model.add(Embedding(nb_words, embedding_dim, input_length=max_length, mask_zero=True, weights=[embedding_weights]))
model.add(Bidirectional(LSTM(256, return_sequences=True)))
model.add(Dropout(0.5))
model.add(TimeDistributed(Dense(encoded_Y.shape[2], activation='softmax')))

optimiser = Nadam(lr=0.004, beta_1=0.9, beta_2=0.999, epsilon=1e-08, schedule_decay=0.004)
model.compile(loss='categorical_crossentropy', optimizer=optimiser) 

				OVERALL
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.896 (0.13)   0.898               
                         Recall         0.9087 (0.11)  0.9126              
                         F1             0.9023         0.9052              


				CAD
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.3423 (0.45)  0.7624              
                         Recall         0.346 (0.45)   0.8265              
                         F1             0.3441         0.7931              


				DIABETES
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.6649 (0.47)  0.9411              
                         Recall         0.6447 (0.46)  0.9076              
                         F1             0.6547         0.9241              


				OBESE
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.1446 (0.35)  0.9032              
                         Recall         0.1435 (0.34)  0.855               
                         F1             0.144          0.8784              


				HYPERLIPIDEMIA
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.4263 (0.49)  0.9373              
                         Recall         0.4174 (0.49)  0.8762              
                         F1             0.4218         0.9057              


				HYPERTENSION
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.7135 (0.43)  0.9163              
                         Recall         0.7131 (0.43)  0.9319              
                         F1             0.7133         0.9241              


				MEDICATION
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.7809 (0.34)  0.9028              
                         Recall         0.8097 (0.34)  0.9299              
                         F1             0.795          0.9161              


				SMOKER
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.8268 (0.37)  0.8101              
                         Recall         0.8463 (0.36)  0.8496              
                         F1             0.8365         0.8294              


				FAMILY_HIST
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.9611 (0.19)  0.9611              
                         Recall         0.9611 (0.19)  0.9611              
                         F1             0.9611         0.9611              


				CAD.mention
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.3106 (0.46)  0.836               
                         Recall         0.3152 (0.46)  0.9283              
                         F1             0.3129         0.8797              


				CAD.event
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.2169 (0.41)  0.6648              
                         Recall         0.2228 (0.42)  0.8417              
                         F1             0.2198         0.7429              


				CAD.test
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.0642 (0.24)  0.6545              
                         Recall         0.0642 (0.24)  0.6102              
                         F1             0.0642         0.6316              


				CAD.symptom
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.03113 (0.17) 0.3478              
                         Recall         0.02724 (0.16) 0.2286              
                         F1             0.02905        0.2759              


				DIABETES.mention
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.6673 (0.47)  0.9554              
                         Recall         0.6693 (0.47)  0.9662              
                         F1             0.6683         0.9608              


				DIABETES.a1c
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.07879 (0.27) 0.7736              
                         Recall         0.07782 (0.27) 0.5                 
                         F1             0.0783         0.6074              


				DIABETES.glucose
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.001946 (0.044)0.125               
                         Recall         0.001946 (0.044)0.0303              
                         F1             0.001946       0.04878             


				OBESE.mention
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.1446 (0.35)  0.9065              
                         Recall         0.1498 (0.36)  0.9102              
                         F1             0.1472         0.9084              


				OBESE.bmi
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.001946 (0.044)0.5                 
                         Recall         0.001946 (0.044)0.05882             
                         F1             0.001946       0.1053              


				HYPERLIPIDEMIA.mention
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.4261 (0.49)  0.9481              
                         Recall         0.4261 (0.49)  0.9241              
                         F1             0.4261         0.9359              


				HYPERLIPIDEMIA.high_ldl
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.001946 (0.044)0.1111              
                         Recall         0.001946 (0.044)0.03448             
                         F1             0.001946       0.05263             


				HYPERLIPIDEMIA.high_chol
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.0 (0.0)      0.0                 
                         Recall         0.0 (0.0)      0.0                 
                         F1             nan            0.0                 


				HYPERTENSION.mention
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.7004 (0.46)  0.973               
                         Recall         0.7043 (0.46)  0.9836              
                         F1             0.7023         0.9783              


				HYPERTENSION.high_bp
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.2403 (0.43)  0.6098              
                         Recall         0.2335 (0.42)  0.641               
                         F1             0.2368         0.625               


				MEDICATION.ace_inhibitor
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.3625 (0.47)  0.9204              
                         Recall         0.3768 (0.48)  0.9024              
                         F1             0.3695         0.9113              


				MEDICATION.anti_diabetes
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.0 (0.0)      0.0                 
                         Recall         0.0 (0.0)      0.0                 
                         F1             nan            0.0                 


				MEDICATION.arb
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.1012 (0.3)   0.8966              
                         Recall         0.1051 (0.31)  0.8083              
                         F1             0.1031         0.8501              


				MEDICATION.aspirin
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.5045 (0.49)  0.9423              
                         Recall         0.523 (0.5)    0.9624              
                         F1             0.5136         0.9523              


				MEDICATION.beta_blocker
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.5298 (0.49)  0.9153              
                         Recall         0.5584 (0.5)   0.9713              
                         F1             0.5437         0.9425              


				MEDICATION.calcium_channel_blocker
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.2341 (0.42)  0.9256              
                         Recall         0.249 (0.43)   0.9377              
                         F1             0.2413         0.9316              


				MEDICATION.diuretic
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.1355 (0.34)  0.7811              
                         Recall         0.1454 (0.35)  0.815               
                         F1             0.1403         0.7977              


				MEDICATION.dpp4_inhibitors
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.0 (0.0)      0.0                 
                         Recall         0.0 (0.0)      0.0                 
                         F1             nan            0.0                 


				MEDICATION.ezetimibe
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.007782 (0.088)0.8                 
                         Recall         0.007782 (0.088)0.3333              
                         F1             0.007782       0.4706              


				MEDICATION.fibrate
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.05058 (0.22) 1.0                 
                         Recall         0.05058 (0.22) 0.8667              
                         F1             0.05058        0.9286              


				MEDICATION.insulin
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.2458 (0.42)  0.8517              
                         Recall         0.2588 (0.44)  0.9595              
                         F1             0.2521         0.9024              


				MEDICATION.metformin
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.2263 (0.41)  0.8668              
                         Recall         0.2474 (0.43)  0.9299              
                         F1             0.2364         0.8973              


				MEDICATION.niacin
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.005837 (0.076)1.0                 
                         Recall         0.005837 (0.076)0.36                
                         F1             0.005837       0.5294              


				MEDICATION.nitrate
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.168 (0.37)   0.8258              
                         Recall         0.1741 (0.38)  0.8745              
                         F1             0.171          0.8495              


				MEDICATION.statin
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.5055 (0.49)  0.9449              
                         Recall         0.5195 (0.5)   0.9437              
                         F1             0.5124         0.9443              


				MEDICATION.sulfonylureas
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.1686 (0.37)  0.8935              
                         Recall         0.1751 (0.38)  0.9028              
                         F1             0.1718         0.8981              


				MEDICATION.thiazolidinedione
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.03761 (0.19) 0.7733              
                         Recall         0.0428 (0.2)   0.9508              
                         F1             0.04004        0.8529              


				MEDICATION.thienopyridine
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.1744 (0.37)  0.9057              
                         Recall         0.1887 (0.39)  0.9472              
                         F1             0.1813         0.926               


				SMOKER.current
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.02918 (0.17) 0.5                 
                         Recall         0.02918 (0.17) 0.4545              
                         F1             0.02918        0.4762              


				SMOKER.past
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.1732 (0.38)  0.7739              
                         Recall         0.1732 (0.38)  0.7876              
                         F1             0.1732         0.7807              


				SMOKER.ever
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.0 (0.0)      0.0                 
                         Recall         0.0 (0.0)      0.0                 
                         F1             nan            0.0                 


				SMOKER.never
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.177 (0.38)   0.8273              
                         Recall         0.177 (0.38)   0.7583              
                         F1             0.177          0.7913              


				SMOKER.unknown
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.4669 (0.5)   0.8511              
                         Recall         0.4669 (0.5)   0.9877              
                         F1             0.4669         0.9143              


				FAMILY_HIST.present
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.003891 (0.062)0.4                 
                         Recall         0.003891 (0.062)0.1053              
                         F1             0.003891       0.1667              


				FAMILY_HIST.not_present
---------------------------------------------------------------------------
 (514)                   Measure        Macro (SD)     Micro (Primary)     
---------------------------------------------------------------------------
Total                    Precision      0.9572 (0.2)   0.9666              
                         Recall         0.9572 (0.2)   0.9939              
                         F1             0.9572         0.9801  
